var vital_signs={wswm_vital_signs:null,unit:mb_utils.readCookie("wswm_cookie"),au_const:149597870.691,mi_conversion:.621371,current_time:Math.floor((new Date).getTime()/1e3),init:function(){null==vital_signs.unit?(vital_signs.unit="english",mb_utils.createCookie("wswm_cookie",vital_signs.unit,1)):"english"==vital_signs.unit?$(".slider_container").attr("aria-label","Change table data from imperial to metric units"):$(".slider_container").attr("aria-label","Change table data from metric to imperial units"),$(".unit_selection ."+vital_signs.unit).addClass("selected"),setInterval("vital_signs.dist_controller()",500),vital_signs.moveUnitSlider(!1),vital_signs.initListeners()},initListeners:function(){var t=[],i=[];$("a").each(function(){t.push($(this))}),$(".readout").each(function(){i.push($(this))}),console.log(t),console.log(i),$("a").on("focus",function(){$(".vital_signs_menu ul").slickCurrentSlide();$(this).parent().find(".readout").addClass("focused")}),$("a").on("focusout",function(){$(".vital_signs_menu ul").slickCurrentSlide();$(this).parent().find(".readout").removeClass("focused")}),$(".unit_selection").click(function(){vital_signs.unit="english"==vital_signs.unit?"metric":"english",vital_signs.changeUnit(),vital_signs.moveUnitSlider()}),$(".slider_container").on("keydown",function(i){13!=i.which&&32!=i.which||(vital_signs.unit="english"==vital_signs.unit?"metric":"english",vital_signs.changeUnit(),vital_signs.moveUnitSlider())}),$(window).resize(function(){1360<$(window).width()&&$(".vital_signs_menu ul").slickGoTo(0),$(".vital_signs_menu ul")[0].slick.refresh()}),$("a").on("keydown",function(i){"Tab"===i.key&&i.shiftKey?$(".vital_signs_menu ul").slickPrev():"Tab"===i.key&&($(window).width()<=600?$(".vital_signs_menu ul").slickCurrentSlide()<7&&(i.preventDefault(),$(".vital_signs_menu ul").slickGoTo($(".vital_signs_menu ul").slickCurrentSlide()+1),i=t[$(".vital_signs_menu ul").slickCurrentSlide()],console.log(i),i.trigger("focus")):$(".vital_signs_menu ul").slickNext())})},display_controller:function(){document.getElementById("voy1_km").innerHTML=vital_signs.addCommas(Math.round(current_dist_km_v1)+display_unit);var i,t=document.getElementById("voy1_speed"),t=(null!=t&&(i=current_speed_v1.toFixed(4),"english"===vital_signs.unit&&(i=current_speed_v1.toFixed(2)),t.innerHTML=vital_signs.addCommas(i)+speed_display_unit),document.getElementById("voy2_speed"));null!=t&&(i=current_speed_v2.toFixed(4),"english"===vital_signs.unit&&(i=current_speed_v2.toFixed(2)),t.innerHTML=vital_signs.addCommas(i)+speed_display_unit)},dist_controller:function(){display_unit=" km",speed_display_unit=" kps",current_dist_km_v1=(vital_signs.current_time-epoch_0)/(epoch_1-epoch_0)*(dist_1_v1-dist_0_v1)+dist_0_v1,current_dist_au_v1=(current_dist_au_v1=(current_dist_au_v1=current_dist_km_v1/vital_signs.au_const+"").split("."))[0]+"."+current_dist_au_v1[1].substring(0,8),current_dist_km_v2=(vital_signs.current_time-epoch_0)/(epoch_1-epoch_0)*(dist_1_v2-dist_0_v2)+dist_0_v2,current_dist_au_v2=(current_dist_au_v2=(current_dist_au_v2=current_dist_km_v2/vital_signs.au_const+"").split("."))[0]+"."+current_dist_au_v2[1].substring(0,8),current_dist_km_v1s=(vital_signs.current_time-epoch_0)/(epoch_1-epoch_0)*(dist_1_v1s-dist_0_v1s)+dist_0_v1s,current_dist_au_v1s=(current_dist_au_v1s=(current_dist_au_v1s=current_dist_km_v1s/vital_signs.au_const+"").split("."))[0]+"."+current_dist_au_v1s[1].substring(0,8),current_dist_km_v2s=(vital_signs.current_time-epoch_0)/(epoch_1-epoch_0)*(dist_1_v2s-dist_0_v2s)+dist_0_v2s,current_dist_au_v2s=(current_dist_au_v2s=(current_dist_au_v2s=current_dist_km_v2s/vital_signs.au_const+"").split("."))[0]+"."+current_dist_au_v2s[1].substring(0,8),current_dist_lt_v1=2*current_dist_km_v1/299792.458/2,current_dist_lt_v2=2*current_dist_km_v2/299792.458/2,current_speed_v1=16.9995,current_speed_v2=15.3741,vital_signs.current_time+=.5,vital_signs.display_controller()},addCommas:function(i){x=(i+="").split("."),x1=x[0],x2=1<x.length?"."+x[1]:"";for(var t=/(\d+)(\d{3})/;t.test(x1);)x1=x1.replace(t,"$1,$2");return x1+x2},formatSeconds:function(i){var t=Math.floor(i/3600),n=(i-=3600*t,Math.floor(i/60)),i=(i-=60*n,Math.floor(i));return(t=t<10?"0"+t:t)+":"+(n=n<10?"0"+n:n)+":"+(i=i<10?"0"+i:i)},changeUnit:function(){var i,t,n,e;$(".unit_selection > div").removeClass("selected"),$(".unit_selection ."+vital_signs.unit).addClass("selected"),mb_utils.createCookie("wswm_cookie",vital_signs.unit,1),"english"==vital_signs.unit?($(".slider_container").attr("aria-label","Table data is now in imperial units. Press again to switch back to metric units."),i=document.getElementById("voy1_km_sr").innerHTML.replace(/\D/g,""),t=document.getElementById("voy1_kms_sr").innerHTML.replace(/\D/g,""),n=document.getElementById("voy2_km_sr").innerHTML.replace(/\D/g,""),e=document.getElementById("voy2_kms_sr").innerHTML.replace(/\D/g,""),document.getElementById("voy1_km_sr").innerHTML=vital_signs.addCommas(Math.round(i*vital_signs.mi_conversion)+" mi"),document.getElementById("voy1_kms_sr").innerHTML=vital_signs.addCommas(Math.round(t*vital_signs.mi_conversion)+" mi"),document.getElementById("voy2_km_sr").innerHTML=vital_signs.addCommas(Math.round(n*vital_signs.mi_conversion)+" mi"),document.getElementById("voy2_kms_sr").innerHTML=vital_signs.addCommas(Math.round(e*vital_signs.mi_conversion)+" mi")):($(".slider_container").attr("aria-label","Table data is now in metric units. Press again to switch back to imperial units."),i=document.getElementById("voy1_km_sr").innerHTML.replace(/\D/g,""),t=document.getElementById("voy1_kms_sr").innerHTML.replace(/\D/g,""),n=document.getElementById("voy2_km_sr").innerHTML.replace(/\D/g,""),e=document.getElementById("voy2_kms_sr").innerHTML.replace(/\D/g,""),document.getElementById("voy1_km_sr").innerHTML=vital_signs.addCommas(Math.round(i/vital_signs.mi_conversion)+" km"),document.getElementById("voy1_kms_sr").innerHTML=vital_signs.addCommas(Math.round(t/vital_signs.mi_conversion)+" km"),document.getElementById("voy2_km_sr").innerHTML=vital_signs.addCommas(Math.round(n/vital_signs.mi_conversion)+" km"),document.getElementById("voy2_kms_sr").innerHTML=vital_signs.addCommas(Math.round(e/vital_signs.mi_conversion)+" km"))},moveUnitSlider:function(i){if(0==i)return"english"==vital_signs.unit?$(".slider_container .slider").css({"margin-left":"0"}):"metric"==vital_signs.unit&&$(".slider_container .slider").css({"margin-left":"14px"}),$(".slider_container").show(),!1;"english"==vital_signs.unit?$(".slider_container .slider").stop().animate({"margin-left":"0"}):"metric"==vital_signs.unit&&$(".slider_container .slider").stop().animate({"margin-left":"14px"})}};$(function(){vital_signs.init()});