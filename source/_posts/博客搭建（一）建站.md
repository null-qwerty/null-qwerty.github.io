---
title: 博客搭建（一）建站
date: 2023-10-05 13:02:03
tags:
- start
excerpt: 搭建本博客的过程，供维护或初学者参考
---
## 简述

本博客使用 [Hexo](https://hexo.io/zh-cn/) 博客框架，主题采用 [radefine](https://github.com/EvanNotFound/hexo-theme-redefine) 搭建，最终发布到 github pages。

## 安装 Hexo

[官方教程](https://hexo.io/zh-cn/docs/)

[Hexo](https://hexo.io/zh-cn/) 是一个基于 [Node.js](https://nodejs.org) 的静态页面博客框架，安装 Hexo 前需要安装 Node.js 和 [git](https://git-scm.com) 。笔者之前安装过这两个应用，在这里不详细介绍它们的安装过程。

安装完上述应用后，打开控制台，输入：

```bash
npm install -g hexo-cli
```

即可安装 Hexo 。

## 创建博客

在打算放置博客的路径下打开控制台，输入：

```bash
hexo init "your-blog-name"
cd your-blog-name
npm install
```

执行完成后，当前文件夹的文件结构如下：

```
.
├── _config.yml
├── package.json
├── scaffolds
├── source
|   ├── _drafts
|   └── _posts
└── themes
```

### _config.yml

网站的配置文件。

### package.json

网站所需要的程序包。

### scaffolds

模板文件夹，新建文章时会根据该文件夹下的模板创建文件。

### source

资源文件夹是存放用户资源的地方。除 `_posts` 文件夹之外，开头命名为 `_` (下划线)的文件 / 文件夹和隐藏的文件将会被忽略。Markdown 和 HTML 文件会被解析并放到 `public` 文件夹，而其他文件会被拷贝过去。

### theme

主题文件夹。

## 安装主题

新建的 Hexo 博客默认使用 landscape 主题。

在 [这里](https://hexo.io/themes/) 可以找到更多的 Hexo 主题，每个主题有不同的配置方法，请根据文档进行配置，此处不做赘述。

在博客根目录打开控制台，输入：

```bash
hexo server
```

结果如下：

```bash
INFO  Validating config
INFO  Start processing
INFO  Hexo is running at http://localhost:4000/ . Press Ctrl+C to stop.
```

此时用浏览器访问 `http://localhost:4000/` 可预览网页。

## 申请github pages

[官方教程](https://docs.github.com/zh/pages/getting-started-with-github-pages/creating-a-github-pages-site)

### 创建仓库

创建用户或组织站点，则存储库必须命名为 `<user>.github.io` 或 `<organization>.github.io` ，全小写。

### 创建站点

新建站点入口文件。GitHub Pages 将查找 `index.html`、`index.md` 或 `README.md` 文件，作为站点的入口文件。

1. 进入仓库，找到 "settings"，打开。
2. 在边栏中找到 "pages"，打开。
3. 选择分支，点击 "save"。

等待一段时间后点击上方 "visit site" 或通过网址访问网页。
{% note warning %}
对站点的更改在推送到 GitHub 后，最长可能需要 10 分钟才会发布。
{% endnote %}

## Hexo 连接到 github pages

先安装 `hexo-deployer-git` 插件，在博客根目录下运行：
```bash
npm install hexo-deployer-git
```

在 `_config.yml` 文件中添加或修改下方内容：

```yml
# Deployment
## Docs: https://hexo.io/docs/one-command-deployment
deploy:
  type: 'git'
  repo: 'https://github.com/<user>/<user>.github.io.git'
  branch: '<your-branch>'
```

打开控制台，输入：

```bash
hexo clean # 清空上次生成的文件，第一次运行可不运行
hexo generate # 生成上传到仓库的文件，保存在 public 文件夹下
hexo deploy # 上传到仓库，第一次运行需要绑定 github 账号
```
